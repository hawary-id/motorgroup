import{W as m,r as g,j as a,Y as u}from"./app-BkyxIvsK.js";import{B as p}from"./Banner-Yi2S_Tra.js";import{B as h}from"./Breadcrumb-DFUBiasb.js";import{M as x,L as f,N}from"./index-D38FjwJ9.js";import{N as j}from"./NewsCard-do-UCrzD.js";import{T as b}from"./TextInput-CIjbQC9e.js";import{T as v}from"./Title-B-DVFoi1.js";import{G as y,B as w}from"./GuestLayout-DIwmwcEh.js";import{N as C,f as i,B as D}from"./Constant-Dig9Qxfr.js";import{S as T}from"./react-select.esm-CsXm77rl.js";import"./iconBase-Db5VmdPx.js";import"./index-C_zwFowj.js";import"./index-glLUsEuE.js";function F({}){const{data:s,setData:t}=m({category:"",search:"",loading:!1,filteredData:[]}),c=[{label:"Home",url:"home",active:!1},{label:"News",url:"news",active:!0}],l=C.map(e=>({value:e.label,label:e.label}));return g.useEffect(()=>{if(s.category||s.search){t(r=>({...r,loading:!0}));const e=setTimeout(()=>{const r=i.filter(o=>{const d=o.title.toLowerCase().includes(s.search.toLowerCase()),n=!s.category||o.category.toLowerCase()===s.category.toLowerCase();return d&&n});t(o=>({...o,filteredData:r,loading:!1}))},750);return()=>clearTimeout(e)}else t(e=>({...e,filteredData:i}))},[s.category,s.search]),a.jsxs(y,{children:[a.jsx(u,{title:"News"}),a.jsxs("div",{className:"w-full",children:[a.jsx("div",{className:"w-full h-44 md:h-96 bg-[url('/illustration/news.jpg')] bg-cover bg-center brightness-75"}),a.jsx(h,{data:c}),a.jsxs("div",{className:"container px-3 py-5 mx-auto md:px-0 md:py-10",children:[a.jsx(v,{className:"font-bold text-center",children:s.category?s.category:"All News & Vehicle Offers"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 mb-4 md:gap-8 md:grid-cols-2 md:mb-6",children:[a.jsx(T,{options:l,value:l.find(e=>e.value===s.category)||"",onChange:e=>t("category",e?e.value:""),placeholder:"Select by Category",isClearable:!0,className:"text-sm"}),a.jsxs("div",{className:"relative",children:[a.jsx(b,{className:"w-full ",placeholder:"Search...",value:s.search||"",onChange:e=>t("search",e.target.value)}),a.jsx("div",{className:"absolute top-0 right-0 h-[38px] w-[37px] rounded-r inline-flex items-center justify-center  text-primary",children:s.search?a.jsx("button",{onClick:()=>t("search",""),children:a.jsx(x,{className:"text-lg hover:text-gray-500"})}):a.jsx(w,{})})]})]}),s.loading?a.jsx(f,{}):a.jsx("div",{className:"",children:s.filteredData.length>0?a.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 md:gap-8",children:s.filteredData.map((e,r)=>a.jsx(j,{image:e.image,badge:e.badge,title:e.title,author:e.author,postDate:e.post_date,view:e.view,description:e.description,slug:e.slug},r+1))}):a.jsx(N,{title:"No results found for your search."})})]}),a.jsx(p,{data:D[0]})]})]})}export{F as default};
