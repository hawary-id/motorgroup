import{r as n,W as B,j as s,Y as L,a as T}from"./app-BkyxIvsK.js";import{B as A}from"./Banner-Yi2S_Tra.js";import{M as R,L as Y,N as E}from"./index-D38FjwJ9.js";import{P as S}from"./ProductDetailCard-_hktfoyr.js";import{T as y}from"./TextInput-CIjbQC9e.js";import{T as _}from"./Title-B-DVFoi1.js";import{G as M,B as k}from"./GuestLayout-DIwmwcEh.js";import{c as F,M as I,d as G,e as h,B as K}from"./Constant-Dig9Qxfr.js";import{d as P}from"./style-B7nZT0tD.js";import{S as d}from"./react-select.esm-CsXm77rl.js";import"./iconBase-Db5VmdPx.js";function re({}){const[f,i]=n.useState(!0),[t,c]=n.useState([]),{data:a,setData:l,post:O,processing:$,errors:V,reset:z}=B({brand:"",model:"",body:"",search:"",minYear:1970,maxYear:new Date().getFullYear(),yearRange:[1974,new Date().getFullYear()]}),m=F.map(e=>({value:e.slug,label:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:e.image,alt:e.name,className:"inline-block w-8"}),e.name]})})),u=I.filter(e=>e.brand.slug===a.brand).map(e=>({value:e.slug,label:e.name})),x=G.map(e=>({value:e.name,label:e.name})),j=e=>{l("yearRange",e)};return n.useEffect(()=>{if(a.type||a.search||a.driveType||a.brand||a.model||a.yearRange||a.body){i(!0);const e=setTimeout(()=>{const o=h.filter(r=>{var b,g,p;const v=r.name.toLowerCase().includes(a.search.toLowerCase())||((b=r.brand)==null?void 0:b.slug.toLowerCase().includes(a.search.toLowerCase())),N=!a.brand||((g=r.brand)==null?void 0:g.slug.toLowerCase())===a.brand.toLowerCase(),C=!a.model||((p=r.model)==null?void 0:p.slug.toLowerCase())===a.model.toLowerCase(),w=(!a.yearRange[0]||r.year>=a.yearRange[0])&&r.year<=a.yearRange[1],D=!a.body||r.body_type.toLowerCase()===a.body.toLowerCase();return v&&N&&C&&w&&D});c(o),i(!1)},750);return()=>clearTimeout(e)}else c(h)},[a.type,a.search,a.brand,a.model,a.yearRange,a.body]),s.jsxs(M,{children:[s.jsx(L,{title:"Motorcycle"}),s.jsxs("div",{className:"w-full py-5",children:[s.jsxs("div",{className:"container px-3 mx-auto md:px-0",children:[s.jsxs("div",{className:"relative",children:[s.jsx(y,{className:"w-full mb-3 md:mb-5",placeholder:"Search by keyword",value:a.search||"",onChange:e=>l("search",e.target.value)}),s.jsx("div",{className:"absolute top-0 right-0 h-[38px] w-[37px] rounded-r inline-flex items-center justify-center  text-gray-600",children:a.search?s.jsx("button",{onClick:()=>l("search",""),children:s.jsx(R,{className:"text-lg hover:text-red-600"})}):s.jsx(k,{})})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-3 mb-5 md:gap-5 md:grid-cols-4",children:[s.jsx(d,{options:m,isClearable:!0,value:m.find(e=>e.value===a.brand)||"",onChange:e=>l("brand",e?e.value:""),placeholder:"Select by Make",className:"text-sm"}),s.jsx(d,{options:u,isClearable:!0,value:u.find(e=>e.value===a.model)||"",onChange:e=>l("model",e?e.value:""),placeholder:"Select by Model",className:"text-sm"}),s.jsx(d,{options:x,isClearable:!0,value:x.find(e=>e.value===a.body)||"",onChange:e=>l("body",e?e.value:""),placeholder:"Select by Body Type",className:"text-sm"}),s.jsx("div",{className:"flex items-start gap-5",children:s.jsxs("div",{className:"relative w-full",children:[s.jsx(y,{className:"w-full mb-3 cursor-not-allowed disabled:bg-gray-100",value:`${a.yearRange[0]} - ${a.yearRange[1]}`,disabled:!0}),s.jsx(P,{min:a.minYear,max:a.maxYear,defaultValue:[a.minYear,a.maxYear],onInput:j,className:"z-0",id:"range-slider-primary"})]})})]}),s.jsxs("span",{className:"block font-semibold text-blue-600 md:hidden",children:[t.length," Grades Available"]}),s.jsx("div",{className:"flex items-center justify-between mt-1",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(T,{href:route("motorcycle.index"),className:"px-5 pt-[10px] pb-3 text-sm text-white border rounded bg-primary hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-700",children:"Reset Filter"}),s.jsxs("span",{className:"hidden font-semibold text-blue-600 md:block",children:[t.length," Grades Available"]})]})})]}),f?s.jsx(Y,{}):s.jsxs("div",{className:"container px-3 py-5 mx-auto md:px-0 md:mb-5 ",children:[s.jsx(_,{children:a.body===""?"All Body Type":a.body}),t.length>0?s.jsx("div",{className:"grid grid-cols-1 gap-3 md:gap-5 md:grid-cols-4",children:t.map((e,o)=>{var r;return s.jsx(S,{title:e.name,price:e.price,discount:e.discount,image:e.image[0].url,label:"View Details",url:route("motorcycle.detail",[(r=e.brand)==null?void 0:r.slug,e.slug])},e.name+o)})}):s.jsx(E,{title:"No Product Found",subtitle:"Your search did not match any products"})]}),s.jsx(A,{data:K[0]})]})]})}export{re as default};
